<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Collections</title>
    <style>
        body {
            font-family: Comic Sans MS;
                margin: 20px;
                padding: 20px;
                background-color: #f4f4f4;
            }
            .h1-container {
                display: flex;
                justify-content: center; 
                align-items: center; 
                flex-wrap: wrap; 
            }
            h1 {
                font-size: 28px;
                margin-bottom: 20px;
            }
            h1#app1 {
                color: #007bff;
                margin-right: 10px;
            }
            h1#app2 {
            color: #ff0000;
        }
        h3,h6 {
            font-size: 20px;
            margin-top: 10px;
            color: #555;
        }
        p {
            font-size: 18px;
            margin-bottom: 20px;
            color: #777;
        
        }
        table {
            border-collapse: collapse;
            width: 100%;
            padding-left: 20px;
        }
        tr, th, td {
            border: 1px solid #000; 
            padding: 8px;
            padding-left: 0px;
            padding-right: 0px;
            text-align: center;
            vertical-align: middle;
            width: min-content;
        }
        #desc{
            text-align: left;
        }
        /* .amount-control {
            display: flex;
            align-items: center;
        } */

        .amount td {
            width: 0; /* Adjust the width as needed */
        }

        .amount button {
            /* margin: 0 1px;    */
            margin-left: 0%;
            margin-right: 0%;
        }
        .amount-1{
            font-weight: bold;

        }
        
        </style>
</head>

{% extends 'base.html' %}
{% block content %}
<body>
    <h6 style="margin-top: 0;margin-bottom: 0;">Nama    : {{user}}<br>Kelas   : PBP A</h6>
    <div class="h1-container">
        <h1 id="app1">Game</h1>
        <h1 id="app2">Collections</h1>
    </div>
    <p>Kamu telah menyimpan {{total}} game di aplikasi ini</p>
    <table style="border-style: solid ;">
        <thead>
                <tr>
                <th>Name</th>
                <th style="width: fit-content;">Amount</th>
                <th>Price</th>
                <th>Category</th>
                <th>Publisher</th>
                <th>Description</th>
                <th>Date Added</th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
        <tr>
            <td>{{ product.Name }}</td>
            <td style="width: fit-content;">
                <form method="POST" action="{% url 'main:update_amount' product.id %}">
                    {% csrf_token %}
                    <div class="amount">
                        <button type="submit" name="decrement10" value="10">-10</button>
                        <button type="submit" name="decrement" value="1">-1</button>
                        <span id="amount-1" style=>{{ product.Amount }}</span>
                        <button type="submit" name="increment" value="1">+1</button>
                        <button type="submit" name="increment10" value="10">+10</button>
                    </div>
                </form>
            </td>
            <td>${{ product.Price }}</td>
            <td>{{ product.Category }}</td>
            <td>{{ product.Publisher }}</td>
            <td>{{ product.Description }}</td>
            <td>{{ product.date_added }}</td>
        </tr>
        {% endfor %}
    </tbody>
    </table>
    
    <br />
    
    <h5>Sesi terakhir login: {{ last_login }}</h5>
    <a href="{% url 'main:create_product' %}">
        <button>
            Add New Game
        </button>
    </a>
    <a href="{% url 'main:logout' %}">
        <button>
            Logout
        </button>
    </a>
    
    {% endblock content %}
</body>
</html>
